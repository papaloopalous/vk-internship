# vk-internship

Проект представляет собой реализацию REST API маркетплейса.

Общая структура и технологии:

Использована микросервисная архитектура на gRPC.

Ответы сервера унифицированы: каждый ответ содержит поля code, message, data, success.

Параметры GET запросов передаются как query, а поля объявления - в JSON структуре.

Хранилища:

Для хранения пользователей и объявлений используется база данных PostgreSQL.

Для хранения сессий применяется Tarantool, как высокопроизводительное in-memory хранилище с возможностью шардирования.

Авторизация и безопасность:

Авторизация реализована с использованием JWT-токенов, которые передаются клиентом в заголовке при каждом запросе.

Авторизационные данные (логин и пароль) шифруются на клиентской стороне перед отправкой.

Для безопасной передачи ключей шифрования используется алгоритм Диффи — Хеллмана.

Все пароли хранятся в зашифрованном виде.

В каждом сервисе настроена acl-таблица для распределения прав доступа на основе переданного токена.

Каждый gRPC запрос сопровождается токеном авторизации для соответствующего сервиса.

Логирование и отладка:

Для логирования во всех сервисах используется библиотека zap.

CI/CD:

В репозитории настроен полноценный CI/CD пайплайн:

Каждый коммит автоматически собирается.

Производится проверка кода с помощью golangci-lint.

После успешной сборки и проверки образы отправляются в Docker Hub.

Затем автоматически разворачиваются на публичном хостинге.

Конфигурация:

В основном сервисе конфигурация реализована через библиотеку Viper.

В остальных сервисах параметры задаются через файлы .env.

Все чувствительные данные (ключи, строки подключения, секреты) и параметры конфигурации задаются в переменных окружения и секретах репозитория.